<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/agendastyle.css">
    <title>Barbearia</title>
</head>
<body id="bodySchedule">

    
    <img id="iconRickandMorty" src="imagens/Rick-and-Morty-4.webp">

    <form id="scheduleForm">
        <div class="scheduleContainer">

            <h2 class="labelSchedule">Data</h2>
            <input type="date" id="scheduleDate" class="inputSchedule" required>

            <h2 class="labelSchedule">Horário</h2>
            <input type="time" id="scheduleTime" class="inputSchedule" placeholder="digite seu e-mail" required>

            <h2 class="labelSchedule">Serviço</h2>
            <div class="checkboxScheduleContainer">
                <label class="checkboxSchedule"><input id="Cabelo" class="checkbox" type="checkbox"> Corte</label>
                <label class="checkboxSchedule"><input id="Barba" class="checkbox" type="checkbox"> Barba</label>
                <label class="checkboxSchedule"><input id="Sobrancelha" class="checkbox" type="checkbox"> Sobrancelha<br></label>
            </div>
            <button type="submit" id="submitSchedule" class="enterButton">Agendar</button>
        </div>
    </form>

    <script>

        const formularioAgendamento = document.getElementById('formularioAgendamento');
    
        formularioAgendamento.addEventListener('submit', (evento) => {
    
            evento.preventDefault();
            const dataAgendamento = document.getElementById('dataAgendamento').value;
            const horaAgendamento = document.getElementById('horaAgendamento').value;
            let custoTotal = 0;
            const servicosSelecionados = [];
            if (document.getElementById('Cabelo').checked) {
                servicosSelecionados.push('Corte');
                custoTotal += 40;
            }
            if (document.getElementById('Barba').checked) {
                servicosSelecionados.push('Barba');
                custoTotal += 25;
            }
            if (document.getElementById('Sobrancelha').checked) {
                servicosSelecionados.push('Sobrancelha');
                custoTotal += 10;
            }
    
            let historicoAgendamentos = JSON.parse(localStorage.getItem('historicoAgendamentos')) || [];
            historicoAgendamentos.push({ dataAgendamento, horaAgendamento, servicosSelecionados, custoTotal });
            localStorage.setItem('historicoAgendamentos', JSON.stringify(historicoAgendamentos));
            window.location.href = 'principal.html';
        });
    
    </script>
    

</body>
</html>